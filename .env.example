# Repo Auditor Environment Configuration
# Copy this file to .env and fill in the values

# ============================================================
# REQUIRED SETTINGS
# ============================================================

# Database (REQUIRED - change password!)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=repo_auditor
POSTGRES_PORT=5432
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:${POSTGRES_PORT}/${POSTGRES_DB}

# Secret key for signing (REQUIRED - generate with: openssl rand -hex 32)
SECRET_KEY=generate-a-secure-key-here

# ============================================================
# APPLICATION SETTINGS
# ============================================================

# Application
APP_NAME=repo-auditor
DEBUG=false

# CORS (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:3333

# ============================================================
# SECURITY SETTINGS
# ============================================================

# API Key authentication (enabled by default)
API_KEY_REQUIRED=true
# Comma-separated list of valid API keys (at least one required)
API_KEYS=enter-a-strong-api-key-here

# Rate limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============================================================
# ANALYSIS SETTINGS
# ============================================================

# Git / Analysis
CLONE_DIR=/tmp/repo-auditor-clones
CLONE_TIMEOUT=120
MAX_REPO_SIZE_MB=500

# Semgrep
SEMGREP_ENABLED=true
SEMGREP_RULES_DIR=infra/semgrep/rules

# Cost estimation
REGION_MODE=EU_UA

# ============================================================
# GITHUB INTEGRATION (optional)
# ============================================================

# Personal Access Token for cloning private repositories
# Create at: https://github.com/settings/tokens → "Fine-grained tokens"
# Permissions needed: Contents (read-only)
GITHUB_PAT=

# GitHub App (for webhooks and advanced integration)
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=
GITHUB_WEBHOOK_SECRET=
GITHUB_CREATE_ISSUES=false

# ============================================================
# GOOGLE DRIVE INTEGRATION (optional)
# ============================================================

# Service Account JSON file path
# 1. Go to Google Cloud Console → APIs & Services → Credentials
# 2. Create Service Account → Create Key (JSON)
# 3. Save the JSON file and set path here
# 4. Share the Google Drive folder with the service account email
GOOGLE_SERVICE_ACCOUNT_JSON=

# Root folder ID to browse (optional)
# Get from folder URL: https://drive.google.com/drive/folders/FOLDER_ID
GOOGLE_DRIVE_FOLDER_ID=

# ============================================================
# NOTIFICATIONS (optional)
# ============================================================

# Slack Webhook URL (get from Slack App settings)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#repo-auditor

# Email notifications
EMAIL_NOTIFICATIONS_ENABLED=false
EMAIL_RECIPIENTS=
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=

# UI URL for notification links
UI_URL=https://ui-three-rho.vercel.app

# ============================================================
# LLM PROVIDERS (optional)
# ============================================================

ANTHROPIC_API_KEY=
OPENAI_API_KEY=
GOOGLE_API_KEY=
OLLAMA_BASE_URL=http://localhost:11434

# ============================================================
# DEV TOOLS (optional - only for dev profile)
# ============================================================

PGADMIN_EMAIL=admin@local.dev
PGADMIN_PASSWORD=your-pgadmin-password-here
